function [F_Y_mask F_Cb_mask F_Cr_mask] = fft_global(I, r_Y, r_C)
%Bhma 1 
%Metatroph xrwmatikou xwrou
RGB = im2double(I); % initialization
%figure(1),imshow(RGB);
YCbCr = rgb2ycbcr(RGB); % RGB->YCbCr
%figure(2),imshow(YCbCr);
Y=YCbCr(:,:,1); % Y Channel
%figure(3),imshow(Y);
Cb=YCbCr(:,:,2); % Cb Channel
%figure(4),imshow(Cb);
Cr=YCbCr(:,:,3); % Cr Channel
%figure(5),imshow(Cr); 

%Bhma 2 euresh fft kai metatopish fasmatos

FY = fft2(Y); %FFT transform ? channel
FCb = fft2(Cb); %FFT transform Cb channel
FCr = fft2(Cr); %FFT transform Cr channel
F_Y = fftshift(FY); % ?????????? ???????? ? channel
F_Cb = fftshift(FCb); % ?????????? ???????? Cb channel
F_Cr = fftshift(FCr); % ?????????? ???????? Cr channel
sc = 0.5; % scaling factor
FY_log = sc * log10(1 + abs(FY)); % fft - Y Channel
F_Y_log = sc * log10(1 + abs(F_Y));% fft shift - Y Channel
%figure(6);
%imshow(FY_log / max(max(FY_log)));% 2D abs of fft- Y channel
%figure(7);
%imshow(F_Y_log / max(max(F_Y_log))); % 2D shifted abs of fft shift -Y channel
[fx,fy] = freqspace(size(F_Y));% Frequency spacing for frequency response
%figure(8), mesh(fx, fy, FY_log); % 3D abs fft
%figure(9), mesh(fx, fy, F_Y_log);% 3D shifted abs fft shift

%Bhma 3
%Apokoph ligotero shmantikwn sunistwswn

[r, c] = size(Y);
rc = min(r,c)/2; % ??????? ??????? ??? ??????
m_Y = zeros(r,c); % ?????????? ????????? ?????? ???????? ??? ??? ? ??????
[fx, fy] = meshgrid((1:c) - (c+1)/2, (1:r) - (r+1)/2);
m_Y(sqrt(fx.^2 + fy.^2) < r_Y * rc) = 1; % ?????????? ??????
%figure(10), imshow(m_Y);
%figure(11), mesh(fx, fy, m_Y),title('mask for Y')
F_Y_mask = F_Y .* m_Y; % ???????? ??? ?????? ??? ????? ??? ?/? ??? ? ????????
%figure(12), imshow(F_Y_mask);

[rCb, cCb] = size(Cb);
rcCb = min(rCb,cCb)/2; % ??????? ??????? ??? ??????
m_Cb = zeros(rCb,cCb); % ?????????? ????????? ?????? ???????? ??? ??? ? ??????
[fxCb, fyCb] = meshgrid((1:cCb) - (cCb+1)/2, (1:rCb) - (rCb+1)/2);
m_Cb(sqrt(fxCb.^2 + fyCb.^2) < r_C * rcCb) = 1; % ?????????? ??????
%figure(10), imshow(m_Cb);
%figure(11), mesh(fxCb, fyCb, m_Cb),title('mask for Cb')
F_Cb_mask = F_Cb .* m_Cb; % ???????? ??? ?????? ??? ????? ??? ?/? ??? Cb ????????
%figure(12), imshow(F_Cb_mask);

[rCr, cCr] = size(Cr);
rcCr = min(rCr,cCr)/2; % ??????? ??????? ??? ??????
m_Cr = zeros(rCr,cCr); % ?????????? ????????? ?????? ???????? ??? ??? ? ??????
[fxCr, fyCr] = meshgrid((1:cCr) - (cCr+1)/2, (1:rCr) - (rCr+1)/2);
m_Cr(sqrt(fxCr.^2 + fyCr.^2) < r_C * rcCr) = 1; % ?????????? ??????
%figure(10), imshow(m_Cr);
%figure(11), mesh(fxCr, fyCr, m_Cr),title('mask for Cr')
F_Cr_mask = F_Cr .* m_Cr; % ???????? ??? ?????? ??? ????? ??? ?/? ??? Cr ????????
%figure(12), imshow(F_Cr_mask);






